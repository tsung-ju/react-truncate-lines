{"version":3,"sources":["webpack://react-truncate-lines-docs/../dist/index.esm.js","webpack://react-truncate-lines-docs/./src/pages/demo.tsx"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","TruncateLines","_a","_b","lines","_c","ellipsis","children","rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","rootSpanRef","useRef","ellipsisSpanRef","text","result","Children","child","TypeError","toString","onlyText","useEffect","element","styleValue","stylePriority","widthValue","widthPriority","rootSpan","current","ellipsisSpan","textNode","firstChild","style","getPropertyValue","getPropertyPriority","setProperty","getClientRects","display","nodeValue","newLength","start","end","predicate","mid","lastIndexWhere","slice","jsxs","ref","jsx","defaultText","useState","setLines","setText","whiteSpace","setWhiteSpace","lineBreak","setLineBreak","showOutline","setShowOutline","autoComplete","htmlFor","id","type","min","value","onChange","parseInt","target","checked","width","color","onClick","outline"],"mappings":"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","file":"component---src-pages-demo-tsx-22c60ac621142bd54f13.js","sourcesContent":["import { jsxs, jsx } from 'react/jsx-runtime';\nimport { useRef, useEffect, Children } from 'react';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction TruncateLines(_a) {\r\n    var _b = _a.lines, lines = _b === void 0 ? 1 : _b, _c = _a.ellipsis, ellipsis = _c === void 0 ? \"…\" : _c, children = _a.children, rest = __rest(_a, [\"lines\", \"ellipsis\", \"children\"]);\r\n    var rootSpanRef = useRef(null);\r\n    var ellipsisSpanRef = useRef(null);\r\n    var text = onlyText(children);\r\n    useEffect(function () {\r\n        var rootSpan = rootSpanRef.current;\r\n        var ellipsisSpan = ellipsisSpanRef.current;\r\n        var textNode = rootSpan.firstChild;\r\n        fixWebKitClientRects(rootSpan);\r\n        ellipsisSpan.style.display = \"none\";\r\n        textNode.nodeValue = text;\r\n        if (rootSpan.getClientRects().length <= lines)\r\n            return;\r\n        ellipsisSpan.style.display = \"inline-block\";\r\n        var newLength = lastIndexWhere(0, text.length, function (length) {\r\n            textNode.nodeValue = text.slice(0, length);\r\n            return length === 0 || rootSpan.getClientRects().length <= lines;\r\n        });\r\n        textNode.nodeValue = text.slice(0, newLength);\r\n    }, [lines, ellipsis, text]);\r\n    return (jsxs(\"span\", __assign({ ref: rootSpanRef }, rest, { children: [text, jsx(\"span\", __assign({ ref: ellipsisSpanRef, style: { display: \"none\" } }, { children: ellipsis }), void 0)] }), void 0));\r\n}\r\nfunction lastIndexWhere(start, end, predicate) {\r\n    // invariant: predicate(start) === true && predicate(end + 1) === false\r\n    while (start < end) {\r\n        var mid = start + ((end - start) >> 1);\r\n        // start <= mid < end\r\n        if (predicate(mid + 1)) {\r\n            start = mid + 1;\r\n        }\r\n        else {\r\n            end = mid;\r\n        }\r\n    }\r\n    return start;\r\n}\r\nfunction onlyText(children) {\r\n    var result = \"\";\r\n    Children.forEach(children, function (child) {\r\n        if (typeof child === \"number\" || typeof child === \"string\") {\r\n            result += child.toString();\r\n        }\r\n        else {\r\n            throw new TypeError(\"Unexpected child type\");\r\n        }\r\n    });\r\n    return result;\r\n}\r\nfunction fixWebKitClientRects(element) {\r\n    var s = element.style;\r\n    var styleValue = s.getPropertyValue(\"outline-style\");\r\n    var stylePriority = s.getPropertyPriority(\"outline-style\");\r\n    var widthValue = s.getPropertyValue(\"outline-width\");\r\n    var widthPriority = s.getPropertyPriority(\"outline-width\");\r\n    s.setProperty(\"outline-style\", \"solid\", \"important\");\r\n    s.setProperty(\"outline-width\", \"1px\", \"important\");\r\n    element.getClientRects();\r\n    s.setProperty(\"outline-style\", styleValue, stylePriority);\r\n    s.setProperty(\"outline-width\", widthValue, widthPriority);\r\n}\n\nexport { TruncateLines };\n","import React, { useState } from \"react\";\nimport { TruncateLines } from \"react-truncate-lines\";\nimport \"water.css/out/water.css\";\n\nfunction DemoPage() {\n  const [lines, setLines] = useState<number>(3);\n  const [text, setText] = useState<string>(defaultText);\n  const [whiteSpace, setWhiteSpace] =\n    useState<React.CSSProperties[\"whiteSpace\"]>(\"pre-line\");\n  const [lineBreak, setLineBreak] =\n    useState<React.CSSProperties[\"lineBreak\"]>(\"auto\");\n  const [showOutline, setShowOutline] = useState<boolean>(false);\n\n  return (\n    <main>\n      <form autoComplete=\"off\">\n        <label htmlFor=\"lines\">lines</label>\n        <input\n          id=\"lines\"\n          type=\"number\"\n          min=\"1\"\n          value={lines}\n          onChange={(e) => setLines(parseInt(e.target.value))}\n        />\n        <label htmlFor=\"text\">text</label>\n        <textarea\n          id=\"text\"\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n        />\n        <label htmlFor=\"white-space\">white-space</label>\n        <select\n          id=\"white-space\"\n          value={whiteSpace}\n          onChange={(e) =>\n            setWhiteSpace(e.target.value as React.CSSProperties[\"whiteSpace\"])\n          }\n        >\n          <option>normal</option>\n          <option>nowrap</option>\n          <option>pre</option>\n          <option>pre-wrap</option>\n          <option>pre-line</option>\n          <option>break-spaces</option>\n        </select>\n        <label htmlFor=\"line-break\">line-break</label>\n        <select\n          id=\"line-break\"\n          value={lineBreak}\n          onChange={(e) =>\n            setLineBreak(e.target.value as React.CSSProperties[\"lineBreak\"])\n          }\n        >\n          <option>auto</option>\n          <option>loose</option>\n          <option>normal</option>\n          <option>strict</option>\n          <option>anywhere</option>\n        </select>\n        <label htmlFor=\"outline\">outline</label>\n        <input\n          id=\"outline\"\n          type=\"checkbox\"\n          checked={showOutline}\n          onChange={(e) => setShowOutline(e.target.checked)}\n        />\n      </form>\n      <hr />\n      <div style={{ width: \"500px\" }}>\n        <TruncateLines\n          lines={lines}\n          ellipsis={\n            <span\n              style={{ color: \"blue\" }}\n              onClick={() => setLines((lines) => lines + 10)}\n            >\n              ...ReadMore\n            </span>\n          }\n          style={{\n            whiteSpace,\n            lineBreak,\n            outline: showOutline ? \"solid 1px\" : \"initial\",\n          }}\n        >\n          {text}\n        </TruncateLines>\n      </div>\n    </main>\n  );\n}\n\nconst defaultText = `岡部りん太郎さま\nおひさしぶりです｡あまねすずはです｡はしだタイターの娘です｡\nあなたにとっては､つい数時間前以来のことかもしれない｡\n今は西暦二000年の､6月13日です｡これをあなたが読んでいる､大体10年前ということになります｡\n結論だけ書く｡\n失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した\nあたしは失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗したあたしは失敗した失敗\n今は､西暦二000年の､6月14日です｡\nこれをあなたが読んでいる､だいたい9年前､10年前になります｡\n失敗した｡\nあたしがあたしだということを思い出したのはほんの1年前だった\n恐怖の大王が落ちるとか言われてた日\nバカだバカだなにが恐怖の大王だどうせなら落ちてくれればよかった\nあたしはこの24年間､記憶を失っていた｡\n覚えていたのは名前ぐらいだった｡\n\n思い出したのはほんの1年前だった\n恐怖の大王が落ちると言われて落ちなかった日\n恐怖の大王なんてどこにもないけどあたしは死にたい\n修理が完全じゃなかったタイムマシンは不具合があったあたしは1975年に跳んだときはなにも覚えていなかったそれを今になって思い出す\nあたしは真っ白でどうしたらいいか分からず施設に保護された\n今は独り暮らしをしているけれどそれは橋田鈴というまっさらな人間として普通に生活してきただけで阿万音鈴羽としての使命は完全に忘れていて去年思い出した\n失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗した失敗したあたしは失敗\nなにが原因なのタイムトラベルはうまくいかなかった父さんの修理が完全じゃなかったんだ\nでも父さんは悪くないあたしが悪いんだ\nまっすぐな1975年へ跳んでいればよかった2010年に寄り道するべきじゃなかったワガママを言っている場合じゃなかったこれじゃ未来は変わらない\nIBN5100は手に入らなかった\nゴメン｡\nゴメンね｡\nあたしは､なんのためにこの歳まで生まれてきたんだろう｡\n\n使命を忘れて､ただのうのうと生きてきた｡\nこんな人生､なんの意味もない｡\n意味がない｡意味がない｡意味がない｡\n思い出さなければよかった｡\n思い出せてよかった｡\n君に謝ることができてよかった｡\n許して許して許して許して許して許して｡\nあたしの計画は狂ってしまった｡\nその原因を､この1年考え続けていた｡\nそして､分かった｡\nあたしが､1975年へ跳ぶのを1日でもためらわなければ､こんなことにはならなかった｡\n岡部りん太郎｡\n君はあのタイムマシンオフ会の後､1975年へ跳ぼうとしたあたしを引き留めた｡\nそれはとてもうれしかったけど､でもそこで引き留めたのは失敗だったんだ｡\nあたしは､あの日跳ばなければならなかったんだ｡あの日を逃したらダメだったんだ｡\n引き留めたれたから､その夜に雷雨があってタイムマシンが壊れてたんだ｡\n\nもしも､時間を戻せるなら､あの日あたしを､引き留めないようにしてほしい｡\nそうすればあたしは､君たちにIBN5100を届けられる｡\n使命を､果たせる｡\nあたしは､使命をはたしたい｡\n父さんと､約束したから｡\n父さんの､意思だから｡\nあたしの未来を､変えたいから｡\nゴメン｡\nゴメン｡\nゴメン｡\nこんな人生は､無意味だった\n`;\n\nexport default DemoPage;\n"],"sourceRoot":""}